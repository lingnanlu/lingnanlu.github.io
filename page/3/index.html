<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="keywords" content="Code, Food, Music">
<meta property="og:type" content="website">
<meta property="og:title" content="Code, Food &amp; Music">
<meta property="og:url" content="http://asanelder.me/page/3/index.html">
<meta property="og:site_name" content="Code, Food &amp; Music">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Code, Food &amp; Music">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://asanelder.me/page/3/">





  <title>Code, Food & Music</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Code, Food & Music</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://asanelder.me/2016/08/11/netty-future-uml/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="asanelder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Code, Food & Music">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/11/netty-future-uml/" itemprop="url">Netty Future UML</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-11T00:00:00+08:00">
                2016-08-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Netty Future的主要类之间的关系如下两图</p>
<p><img src="/assets/pics/netty_future0.jpg" alt="future0"></p>
<p><img src="/assets/pics/netty_future1.jpg" alt="future1"></p>
<p>以上这些类都是表示异步操作的结果. 根据名称可推断其作用</p>
<p>Promise表示可写的Future</p>
<p>Progressive表示可显示进度的Future</p>
<p>Channel表示和IO操作相关</p>
<p>Task表示是一个任务</p>
<p>如果名称中包含以上多个关键字, 说明具有多个关键字的功能.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://asanelder.me/2016/08/09/netty-executor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="asanelder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Code, Food & Music">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/09/netty-executor/" itemprop="url">Netty Executor UML</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-09T00:00:00+08:00">
                2016-08-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Netty中和Executor相关的有很多类, 如<strong>EventExecutor</strong>, <strong>EventExecutorGroup</strong>, <strong>EventLoop</strong>, <strong>NioEventLoop</strong>等等, 理清它们之间的关系很重要, 将它们画成UML图如下所示</p>
<p><img src="/assets/pics/netty_executor.jpg" alt="Netty Executor"></p>
<p>浅蓝:接口-核心概念<br>橘黄:抽象类-模板<br>深蓝:实现 </p>
<p>对该图结构的理解关系到各个类的理解. 关于该图, 有以下几个值得注意的地方.</p>
<ol>
<li>接口代表着核心概念， 所以理解接口最重要</li>
<li>可以把接口看作是一种功能, 接口之间的继承关系可以看做是功能的不断扩展, 越往下层走， 功能越强, 比如说EventExecutorGroup就是对ScheduledExecutorService的功能进行了扩展.</li>
<li>每一层都提供模板类来提供对接口的默认实现， 这是为了减少实现类的代码</li>
<li>每一层的模板类继承上一层的模板类是了为复用上一层接口的默认实现， 如果不继承也是可以的， 只是还要再提供一次上层的默认实现. 而实现本层接口是为了提供本层扩展功能(相对于上一层来说)的默认实现</li>
<li>整个图可以看作是一个层次结构， 需要哪一层的功能就扩展那一层的抽象类即可. </li>
</ol>
<p>结合本图和文档中各个类的说明, 就可以对类之间的关系有一个比较清晰的认识了. 而知道了类与类之间的区别, 则对类本身的含义也就可以更加明确了.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://asanelder.me/2016/08/07/dynamic-search-tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="asanelder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Code, Food & Music">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/07/dynamic-search-tree/" itemprop="url">动态搜索树</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-07T00:00:00+08:00">
                2016-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>二叉搜索树, 平衡二叉搜索树（AVL）, B+树, B树,B-树 2-3搜索树, 红黑树</strong></p>
<p>以上这些都是动态搜索树, 可用来加快查找某一元素的效率, 以下简述它们之间的一点区别</p>
<p><strong>二叉搜索树</strong>，在最坏的情况下是O(n).</p>
<p>于是为了保证二叉搜索树不会发生严重失衡就有了<strong>平衡二叉搜索树</strong>.</p>
<p>现在虽然平衡了， 但为了保证如此严格的平衡性， 每次添加删除元素时， 就需要付出比较大的代价， 为了得到平衡性带来的好处，同时不想为平衡性付出太大代价， 于是就有了<strong>红黑树</strong></p>
<p>在说红黑树之前， 先介绍一个2-3搜索树， 其性质类似于二叉搜索树， 只是有两种结点， 2叉的和3叉的。</p>
<p>当所有空结点到根结点的距离相同时, 是<strong>平衡2-3查找树</strong></p>
<p>将<strong>平衡2-3查找树</strong>的3叉结点转化为两个2叉结点, 就得到了<strong>红黑树</strong>.</p>
<p>以上说的都是2叉树， 给定同样数量的元素， 叉数越多，这个树就越扁， <strong>B树就是一种多叉搜索树</strong></p>
<p>而<strong>B+树和B是类似的区别在于， 如果每一个结点带有额外信息的话， 那么， B树是所有结点带有信息， 而B+只有叶子结点带有信息</strong>。</p>
<p>如果将B+树与B树用于磁盘文件访问, B+树因为非叶子结点不包含索引信息, 所以非叶子结点可以包含更多关键字信息, 进而能进一步减少磁盘的访问次数.</p>
<p>而B-树就是B树, 正式的说法是B树.</p>
<p><em>关于红黑树与2-3树,见\&lt;算法>彩色插页</em></p>
<p><em>还有另外一种数据结构也可以加快检索， 即Hash表</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://asanelder.me/2016/08/07/hashmap-loadfactor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="asanelder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Code, Food & Music">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/07/hashmap-loadfactor/" itemprop="url">HashMap中loadfactor的含义</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-07T00:00:00+08:00">
                2016-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>JDK文档中提到</p>
<blockquote>
<p>An instance of HashMap has two parameters that affect its performance: initial capacity and load factor. The capacity is the number of buckets in the hash table, and the initial capacity is simply the capacity at the time the hash table is created. The load factor is a measure of how full the hash table is allowed to get before its capacity is automatically increased. When the number of entries in the hash table exceeds the product of the load factor and the current capacity, the hash table is rehashed (that is, internal data structures are rebuilt) so that the hash table has approximately twice the number of buckets.</p>
<p>As a general rule, the default load factor (.75) offers a good tradeoff between time and space costs. Higher values decrease the space overhead but increase the lookup cost (reflected in most of the operations of the HashMap class, including get and put). The expected number of entries in the map and its load factor should be taken into account when setting its initial capacity, so as to minimize the number of rehash operations. If the initial capacity is greater than the maximum number of entries divided by the load factor, no rehash operations will ever occur.</p>
</blockquote>
<p>注意其中</p>
<blockquote>
<p>The load factor is a measure of how full the hash table is allowed to get before its capacity is automatically increased. </p>
</blockquote>
<p>但这句话到底是什么含义呢？</p>
<p>要想理解以上这句话，需要了解有关HashMap的其它几个术语</p>
<ol>
<li><strong>capacity</strong>：指桶的个数</li>
<li><strong>size</strong>：指Map中Entry的个数</li>
<li><strong>threshold</strong>：threshold = capacity * loadfactor, 含当size&gt;=threshold时， 增加capacity为原来的2倍（参考源代码）</li>
<li><strong>loadfactor</strong>: 含义是什么呢？ </li>
</ol>
<p>不妨通过一个例子来了解loadfactor的含义</p>
<p>假设capacity=10</p>
<ol>
<li><p>假设loadfactor=10, 由以上可知, 当size&gt;=(threshold = capacity * loadfactor)时扩容， 即size&gt;=100时扩容，<br>而此时只有10个桶， 可以看出， 每个桶都是比较满的。但扩容的速度比较慢</p>
</li>
<li><p>假设loadfactor=0.1,则size=1时扩容， 而此时有10个桶， 大多数桶还是很空的。但扩容的速度比较快。</p>
</li>
</ol>
<p>于是， 可以理解上文中那句话了。</p>
<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>由上讨论可知</p>
<p>当loadfactor比较大时， 桶比较满， 空间占用比较少，扩容速率比较慢， rehash次数比较少, 但每个桶中元素比较多， 所以查找效率会低一些</p>
<p>当loadfactor比较少时， 桶比较空， 空间占用比较多，扩容速率比较快， rehash次数比较多， 查找效率会高一些</p>
<p>最终是在时间和空间中找到一个平衡</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://asanelder.me/2016/08/07/java-container-summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="asanelder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Code, Food & Music">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/07/java-container-summary/" itemprop="url">Java容器总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-07T00:00:00+08:00">
                2016-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="框架图"><a href="#框架图" class="headerlink" title="框架图"></a>框架图</h3><p><img src="/assets/pics/Java_Container.jpg" alt="Java容器全局图"></p>
<h3 id="fast-fail原理"><a href="#fast-fail原理" class="headerlink" title="fast-fail原理"></a>fast-fail原理</h3><p>当多个线程对同一个集合的内容进行操作时，就可能会产生fail-fast事件。<br>例如：当某一个线程A通过iterator去遍历某集合的过程中，若该集合的内容被其他线程所改变了；那么线程A访问集合时，就会抛出ConcurrentModificationException异常，产生fail-fast事件。</p>
<p>原理见<a href="http://wangkuiwu.github.io/2012/02/04/collection-04-fail-fast/" target="_blank" rel="noopener">Java 集合系列04之 fail-fast总结</a></p>
<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><h4 id="1-ArrayList"><a href="#1-ArrayList" class="headerlink" title="1 ArrayList"></a>1 ArrayList</h4><ol>
<li>容量不足时，新扩容的大小为旧容量的一半</li>
<li>实际上利用的一个数组去保存数据的</li>
<li><p>不同遍历方式</p>
<ul>
<li>get(index)方式最简单最高效， 就是直接返回底层数组的index元素，而没有fast-fail检查</li>
<li>而使用iterator会涉及到fast-fail检查， 即多个线程并发去读写list时， 抛出concurrencymodify异常， 所以效率低</li>
</ul>
</li>
</ol>
<h4 id="2-CopyOnWriteArrayList"><a href="#2-CopyOnWriteArrayList" class="headerlink" title="2 CopyOnWriteArrayList"></a>2 CopyOnWriteArrayList</h4><ol>
<li>顾名思义，在对List写时， 所写的已不是原数组，而是在一个新的数组在进行操作</li>
<li>由源码可知， 如果有多个线程并发读写， 那么读到的数组是原数组， 所以会出现数据不一致的情况， 即读到的数据并不是最新的。但因为最终读（在所有写完成后）可以读到最新数据， 这就是具有<strong>最终一致性</strong>， 但不具有<strong>实时一致性</strong></li>
<li>适用于读多写少（读的时候不加锁）， 且不要求实时一致性的场合</li>
<li>在写的时候会进行加锁， 所以， 即使有多个写线程， 也是只有一个副本。</li>
<li>因为写的时候有一个副本， 所以内存还是占用多那么一点</li>
<li>其它CopyOnWrite系列原理与此相同</li>
</ol>
<p>参考文章</p>
<p><a href="http://coolshell.cn/articles/11175.html" target="_blank" rel="noopener">Java中的CopyOnWrite容器</a></p>
<h4 id="3-LinkedList"><a href="#3-LinkedList" class="headerlink" title="3 LinkedList"></a>3 LinkedList</h4><ol>
<li>实际上是一个双向列表</li>
<li>其依然支持随机访问， 它就是通过一个计数索引值来实现的。例如，当我们调用get(int location)时，首先会比较“location”和“双向链表长度的1/2”；若前者大，则从链表头开始往后查找，直到location位置；否则，从链表末尾开始先前查找，直到location位置</li>
<li>依然是fast-fail机制</li>
<li>由随机访问的原理可知， 当遍历LinkedList是， 随机访问的效率是很低的，所以使用Iterator比较好 </li>
</ol>
<h4 id="4-Vector"><a href="#4-Vector" class="headerlink" title="4 Vector"></a>4 Vector</h4><p>和ArrayList类似， 但是是线程安全的.</p>
<p>因为是默认是线程安全的， 所以get，set方法都要加锁， 即使是在非并发环境下。</p>
<p>所以，新的设计是使用ArrayList, 如果在并发环境中使用， 则利用synchronizedList返回其并发版本。</p>
<h4 id="5-Stack"><a href="#5-Stack" class="headerlink" title="5 Stack"></a>5 Stack</h4><p>Stack是继承Vector的， 所以Vector的缺点它都有， 这也是不推荐使用的原因，可利用LinkedList代替</p>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><h4 id="1-HashMap"><a href="#1-HashMap" class="headerlink" title="1 HashMap"></a>1 HashMap</h4><ol>
<li>HashMap是非线程安全的，一样实现了fast-fail机制</li>
<li>使用Collections.sy…Map方法返回其线程安全版本，该安全版本性能不好，因为锁的是整个Map, 性能更好的版本是CocurrencyHashMap，这个使用的是分段锁，锁的不是整个Map</li>
<li>HashTable是线程安全的, 但同样性能不好</li>
<li><a href="http://lingnanlu.github.io/2016/08/07/hashmap-loadfactor" target="_blank" rel="noopener">HashMap中loadfactor的含义</a></li>
<li><p>HashMap提供三种视图</p>
<ul>
<li>所有条目entrySet():集合</li>
<li>所有键keySet():集合</li>
<li>所有值values():Collection</li>
</ul>
</li>
<li><p>put, get的复杂度为O(1)</p>
</li>
</ol>
<h4 id="2-HashTable"><a href="#2-HashTable" class="headerlink" title="2 HashTable"></a>2 HashTable</h4><p>和HashMap类似， 就是线程安全的， 性能低</p>
<h4 id="3-TreeMap"><a href="#3-TreeMap" class="headerlink" title="3 TreeMap"></a>3 TreeMap</h4><ol>
<li>利用红黑树来保存， 因为红黑树也是用来加快检索的， 所以和Hash的功能类似</li>
<li>因为红黑树也是二叉搜索树， 对其进行中序遍历， 就可以得到其有序序列， 其保存的键是有序的， 所以当对其进行迭代时，键是有序的</li>
<li>因为是红黑树，其put,get操作复杂度是O(logN)</li>
<li>同样，非同步，fast-fail</li>
</ol>
<h4 id="4-WeakHashMap-TODO-以及WeakReference的用途"><a href="#4-WeakHashMap-TODO-以及WeakReference的用途" class="headerlink" title="4 WeakHashMap(TODO, 以及WeakReference的用途)"></a>4 WeakHashMap(TODO, 以及WeakReference的用途)</h4><ol>
<li>键是弱键，值不是弱值</li>
<li>当弱键引用的对象被回收后，会将该弱键放入ReferenceQueue中，当下一次操作WeakHashMap时，会根据ReferenceQueue中的弱键删除相关entry</li>
<li>同样，非同步 fast-fail</li>
<li>用途，好像是用来保存某些元信息(TODO）</li>
</ol>
<h4 id="5-LinkedHashMap"><a href="#5-LinkedHashMap" class="headerlink" title="5 LinkedHashMap"></a>5 LinkedHashMap</h4><p>保存着插入顺序，迭代时的顺序就是插入顺序。继承自HashMap, 非线程安全</p>
<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>Set是基于Map实现的，其中</p>
<ol>
<li>HashSet是基于HashMap</li>
<li>TreeSet是通过TreeMap</li>
</ol>
<h4 id="1-HashSet"><a href="#1-HashSet" class="headerlink" title="1 HashSet"></a>1 HashSet</h4><ol>
<li>HashSet是基于HashMap</li>
<li>非同步，fast-fail</li>
<li>怎样实现没有重复元素呢？实际上是利用了HashMap中键不可能重复的性质，也就是说，只使用了HashMap中的键，而值是一个Object对象</li>
<li>其它性质与HashMap类似，如查找性质等</li>
</ol>
<h4 id="2-TreeSet"><a href="#2-TreeSet" class="headerlink" title="2 TreeSet"></a>2 TreeSet</h4><p>参照HashSet的4条与TreeMap的性质。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">asanelder</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">84</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/lingnanlu" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://instagram.com/lingnanlu" target="_blank" title="Instagram">
                      
                        <i class="fa fa-fw fa-instagram"></i>Instagram</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">asanelder</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
